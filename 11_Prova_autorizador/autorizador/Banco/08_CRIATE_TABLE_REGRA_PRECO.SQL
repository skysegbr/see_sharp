CREATE TABLE TB_REGRA_PRECO (
    COD_REGRA_PRECO  NUMBER(2),
    COD_PROD         NUMBER(6),
    PRECO_LAB        NUMBER(6,2),
    PRECO_PMC_SAUDE  NUMBER(3),
    DT_INI           DATE,
    DT_FIM           DATE
);


COMMENT ON COLUMN TB_REGRA_PRECO.COD_REGRA_PRECO IS 'CODIGO UNICO DA REGRA DE PROCO DO PRODUTO';
COMMENT ON COLUMN TB_REGRA_PRECO.COD_PROD IS 'FK - TD_PRODUTO';
COMMENT ON COLUMN TB_REGRA_PRECO.PRECO_LAB IS 'PRECO DO PRODUTO NO FORNECEDOR';
COMMENT ON COLUMN TB_REGRA_PRECO.PRECO_PMC_SAUDE IS '% DESCONTO DO PRODUTO NA SAUDE NOVA';
COMMENT ON COLUMN TB_REGRA_PRECO.DT_INI IS 'DATA INICIO DO STATUS';
COMMENT ON COLUMN TB_REGRA_PRECO.DT_FIM IS 'DATA FIM DO STATUS';

ALTER TABLE TB_REGRA_PRECO
    ADD CONSTRAINT PK_TB_REGRA_PRECO PRIMARY KEY (COD_REGRA_PRECO, COD_PROD)
    USING INDEX;


ALTER TABLE TB_REGRA_PRECO
ADD CONSTRAINT FK_COD_PROD FOREIGN KEY (COD_PROD)
  REFERENCES TB_PRODUTO(COD_PROD);


CREATE INDEX INX_REGRA_PRECO_DT ON TB_REGRA_PRECO (COD_REGRA_PRECO, DT_FIM);


