CREATE TABLE TB_FARMACIA (
    COD_FARM    NUMBER(6),
    COD_FILI    NUMBER(6),
    CNPJ_FARM   NUMBER(14),
    NOME_FARM   VARCHAR2(50),
    MATRIZ_FARM VARCHAR2(1),
    DT_INI      DATE,
    DT_FIM      DATE
);


COMMENT ON COLUMN TB_FARMACIA.COD_FARM IS 'CODIGO IDENTIFICADOR DA FARMAFIA NA REDE';
COMMENT ON COLUMN TB_FARMACIA.COD_FILI IS 'CODIGO IDENTIFICADOR DA FILIAL NA REDE';
COMMENT ON COLUMN TB_FARMACIA.CNPJ_FARM IS 'IDENTIFICADOR UNICO DA FARMACIA';
COMMENT ON COLUMN TB_FARMACIA.NOME_FARM IS 'NOME FANTASIA DA FARMACIA';
COMMENT ON COLUMN TB_FARMACIA.MATRIZ_FARM IS 'MATRIZ - S SIM, N NAO';
COMMENT ON COLUMN TB_FARMACIA.DT_INI IS 'DATA INICIO DO STATUS';
COMMENT ON COLUMN TB_FARMACIA.DT_FIM IS 'DATA FIM DO STATUS';

ALTER TABLE TB_FARMACIA
    ADD CONSTRAINT PK_FARMACIA PRIMARY KEY (COD_FARM, COD_FILI, CNPJ_FARM)
    USING INDEX;


CREATE SEQUENCE SQ_FARMACIA
MINVALUE 1
MAXVALUE 9999999999
START WITH 1
INCREMENT BY 1
NOCACHE;


CREATE INDEX INX_FARMACIA_FILI ON TB_FARMACIA (COD_FARM, COD_FILI);


CREATE INDEX INX_FARMACIA_FILI_DT_TIM ON TB_FARMACIA (COD_FARM, COD_FILI, DT_FIM);





